# What is the difference between Immediate Fetching and Lazy Collection Fetching?

In the context of data fetching strategies in frameworks like Hibernate or JPA, Immediate Fetching (also known as Eager Fetching) and Lazy Collection Fetching are two different approaches to loading related entities from a database.
1. Immediate Fetching (Eager Fetching):
   - In Immediate Fetching, related entities are loaded from the database at the same time as the parent entity. This means that when you retrieve an entity, all of its associated entities are also fetched immediately.
   - This approach can be useful when you know that you will need the related entities right away, as it reduces the number of database queries by loading everything in one go.
   - However, it can lead to performance issues if there are many related entities or if the relationships are complex, as it may result in loading a large amount of data that is not needed.

2. Lazy Collection Fetching:
   - In Lazy Collection Fetching, related entities are not loaded from the database until they are explicitly accessed. This means that when you retrieve a parent entity, its associated entities are not fetched until you try to access them.
   - This approach can improve performance by reducing the initial load time and memory consumption, as only the necessary data is fetched when needed.
   - However, it can lead to the "N+1 Selects Problem," where multiple database queries are executed when accessing related entities, which can negatively impact performance if not managed properly.
   - To mitigate this issue, developers can use techniques such as batch fetching or join fetching to optimize the loading of related entities.

```java
// example of batch fetching in Hibernate
@Entity
public class Parent {
    @Id
    private Long id;
    
    @OneToMany(fetch = FetchType.LAZY)
    @BatchSize(size = 10)
    private Set<Child> children;
    // getters and setters
}

@Entity
public class Child {
    @Id
    private Long id;
    // other fields
    // getters and setters
}

// example of join fetching in JPQL
String jpql = "SELECT p FROM Parent p JOIN FETCH p.children WHERE p.id = :parentId";

TypedQuery<Parent> query = entityManager.createQuery(jpql, Parent.class);
query.setParameter("parentId", someParentId);
Parent parent = query.getSingleResult();
```
