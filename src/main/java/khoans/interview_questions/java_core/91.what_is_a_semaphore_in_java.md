# What is a Semaphore in Java?
A Semaphore in Java is a synchronization aid that is used to control access to a shared resource by multiple threads. It is part of the `java.util.concurrent` package and is implemented in the `Semaphore` class. A Semaphore maintains a set of permits, and threads can acquire or release these permits to gain access to the shared resource.
A Semaphore is particularly useful in scenarios where you want to limit the number of threads that can access a resource concurrently. For example, if you have a pool of database connections and you want to restrict the number of threads that can use these connections at the same time, you can use a Semaphore to manage access.
Here are some key features of Semaphores in Java:
1. **Permits**: A Semaphore is initialized with a certain number of permits. Each time a thread acquires a permit, the number of available permits decreases by one. When a thread releases a permit, the number of available permits increases by one.
2. **Acquiring Permits**: A thread can acquire a permit by calling the `acquire()` method. If no permits are available, the thread will block until a permit becomes available. There is also a `tryAcquire()` method that allows a thread to attempt to acquire a permit without blocking.
3. **Releasing Permits**: A thread can release a permit by calling the `release()` method. This increases the number of available permits and potentially unblocks a waiting thread.
4. **Fairness**: Semaphores can be configured to be fair or non-fair. A fair Semaphore ensures that threads acquire permits in the order they requested them, while a non-fair Semaphore does not guarantee any specific order.
Here is a simple example of how to use a Semaphore in Java:
```java
import java.util.concurrent.Semaphore;
public class SemaphoreExample {
    private static final int MAX_PERMITS = 3;
    private static final Semaphore semaphore = new Semaphore(MAX_PERMITS);

    public static void main(String[] args) {
        for (int i = 0; i < 10; i++) {
            final int threadIndex = i;
            new Thread(() -> {
                try {
                    System.out.println("Thread " + threadIndex + " is trying to acquire a permit.");
                    semaphore.acquire();
                    System.out.println("Thread " + threadIndex + " has acquired a permit.");

                    // Simulate some work with the shared resource
                    Thread.sleep(2000);

                } catch (InterruptedException e) {
                    e.printStackTrace();
                } finally {
                    System.out.println("Thread " + threadIndex + " is releasing a permit.");
                    semaphore.release();
                }
            }).start();
        }
    }
}
```
In this example, we create a Semaphore with a maximum of 3 permits. Ten threads attempt to acquire a permit to access a shared resource. Only three threads can hold a permit at any given time, while the others will wait until a permit is released.
