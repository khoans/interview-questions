# What is the difference between fail-fast and fail-safe iterator?
Fail-fast and fail-safe iterators are two types of iterators in Java that differ in how they handle concurrent modifications to the underlying collection during iteration.

1. **Fail-Fast Iterator**:
   - A fail-fast iterator immediately throws a `ConcurrentModificationException` if it detects that the underlying collection has been modified (structurally) after the iterator was created, except through the iterator's own `remove()` method.
   - This behavior is designed to prevent unpredictable results and ensure data integrity during iteration.
   - Examples of collections that provide fail-fast iterators include `ArrayList`, `HashSet`, and `HashMap`.
   - Example:
     ```java
     List<String> list = new ArrayList<>(Arrays.asList("A", "B", "C"));
     Iterator<String> iterator = list.iterator();
     list.add("D"); // Structural modification
     while (iterator.hasNext()) {
         System.out.println(iterator.next()); // Throws ConcurrentModificationException
     }
     ```
     
2. **Fail-Safe Iterator**:
   - A fail-safe iterator allows concurrent modifications to the underlying collection without throwing an exception. Instead, it works on a separate copy of the collection, which means that changes made to the original collection do not affect the iteration.
   - This behavior is useful in multi-threaded environments where multiple threads may be modifying the collection while another thread is iterating over it.
   - Examples of collections that provide fail-safe iterators include `CopyOnWriteArrayList` and `ConcurrentHashMap`.
   - Example:
     ```java
     CopyOnWriteArrayList<String> list = new CopyOnWriteArrayList<>(Arrays.asList("A", "B", "C"));
     Iterator<String> iterator = list.iterator();
     list.add("D"); // Structural modification
     while (iterator.hasNext()) {
         System.out.println(iterator.next()); // Does not throw an exception, prints A, B, C
     }
     ```
     
In summary, fail-fast iterators throw an exception on concurrent modifications, while fail-safe iterators allow such modifications by working on a separate copy of the collection.
