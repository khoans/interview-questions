# What is the difference between spy and mock?
In unit testing frameworks like Mockito, both spy and mock are used to create test doubles, but they serve different purposes and have different behaviors.
1. Mock:
- A mock is a test double that simulates the behavior of a real object. When you create a mock, all methods of the mock object return default values (e.g., null, 0, false) unless you explicitly define their behavior using Mockito's when-then syntax.
- Mocks are typically used when you want to isolate the class under test from its dependencies and verify interactions with those dependencies.
- Example usage:
```java
@Mock
private MyService myService;
```
2. Spy:
- A spy is a test double that wraps a real object. When you create a spy, the methods of the spy object call the actual methods of the real object unless you explicitly override their behavior using Mockito's doReturn-when syntax.
- Spies are typically used when you want to test a class while still using some of the real behavior of its dependencies, allowing you to partially mock the object.
- Example usage:
```java
@Spy
private MyService myService = new MyService();
```
In summary, the main difference between spy and mock is that a mock does not have any real behavior unless defined, while a spy calls the actual methods of the real object unless overridden. Mocks are used for complete isolation, while spies are used for partial mocking.
